2025-08-01 11:18:52 - Callback received:
{
    "ResultCode": "0",
    "ResultDesc": "Success",
    "MpesaReceiptNumber": "TEST123456",
    "Amount": "100",
    "PhoneNumber": "254700000000",
    "MerchantRequestID": "TEST-1754039932",
    "CheckoutRequestID": "TEST-1754039932"
}
----------------------------------------
2025-08-01 11:18:52 - Payment SUCCESS:
Receipt: TEST123456
Amount: 100
Phone: 254700000000
----------------------------------------
2025-08-01 11:23:20 - Callback received:
{
    "ResultCode": "0",
    "ResultDesc": "Success",
    "MpesaReceiptNumber": "TEST123456",
    "Amount": "100",
    "PhoneNumber": "254700000000",
    "MerchantRequestID": "TEST-1754040200",
    "CheckoutRequestID": "TEST-1754040200"
}
----------------------------------------
2025-08-01 11:23:20 - Payment SUCCESS:
Receipt: TEST123456
Amount: 100
Phone: 254700000000
----------------------------------------
2025-08-01 11:24:52 - Callback received:
{
    "ResultCode": "0",
    "ResultDesc": "Success",
    "MpesaReceiptNumber": "TEST1754040291",
    "Amount": "100",
    "PhoneNumber": "254700000000",
    "MerchantRequestID": "TEST-1754040291",
    "CheckoutRequestID": "TEST-1754040291"
}
----------------------------------------
2025-08-01 11:24:52 - Payment SUCCESS:
Receipt: TEST1754040291
Amount: 100
Phone: 254700000000
----------------------------------------
2025-08-01 11:28:10 - Callback received:
{
    "Body": {
        "stkCallback": {
            "MerchantRequestID": "c7e4-42c0-b476-32053384902b46177",
            "CheckoutRequestID": "ws_CO_010820251227571712512358",
            "ResultCode": 1032,
            "ResultDesc": "Request Cancelled by user"
        }
    }
}
----------------------------------------
2025-08-01 11:28:11 - Payment FAILED:
Error Code: Unknown
Error Message: Unknown error
----------------------------------------
2025-08-04 22:43:11 - Callback received:
{
    "Body": {
        "stkCallback": {
            "MerchantRequestID": "b6ee-4b95-90b1-27d193408dd010776",
            "CheckoutRequestID": "ws_CO_040820252342451712512358",
            "ResultCode": 1037,
            "ResultDesc": "No response from user"
        }
    }
}
----------------------------------------
2025-08-04 22:43:11 - Payment request updated to failed
2025-08-04 22:43:11 - Payment FAILED:
Error Code: 1037
Error Message: No response from user
CheckoutRequestID: ws_CO_040820252342451712512358
----------------------------------------
2025-08-04 22:44:16 - Callback received:
null
----------------------------------------
2025-08-04 22:44:16 - Payment FAILED:
Error Code: Unknown
Error Message: Unknown error
CheckoutRequestID: N/A
----------------------------------------
2025-08-04 22:46:07 - Callback received:
{
    "Body": {
        "stkCallback": {
            "MerchantRequestID": "d2c6-4205-830c-9d5d446e2e8011453",
            "CheckoutRequestID": "ws_CO_040820252345410712512358",
            "ResultCode": 1037,
            "ResultDesc": "No response from user"
        }
    }
}
----------------------------------------
2025-08-04 22:46:07 - Payment request updated to failed
2025-08-04 22:46:07 - Payment FAILED:
Error Code: 1037
Error Message: No response from user
CheckoutRequestID: ws_CO_040820252345410712512358
----------------------------------------
2025-08-04 22:47:35 - Callback received:
{
    "Body": {
        "stkCallback": {
            "MerchantRequestID": "d2c6-4205-830c-9d5d446e2e8011485",
            "CheckoutRequestID": "ws_CO_040820252347282712512358",
            "ResultCode": 0,
            "ResultDesc": "The service request is processed successfully",
            "CallbackMetadata": {
                "Item": [
                    {
                        "Name": "Amount",
                        "Value": 2
                    },
                    {
                        "Name": "MpesaReceiptNumber",
                        "Value": "TH45XTBQUV"
                    },
                    {
                        "Name": "Balance",
                        "Value": "{Amount={CurrencyCode=KES, MinimumAmount=10598200, BasicAmount=105982.00}}"
                    },
                    {
                        "Name": "TransactionDate",
                        "Value": 20250804234734
                    },
                    {
                        "Name": "PhoneNumber",
                        "Value": 254712512358
                    }
                ]
            }
        }
    }
}
----------------------------------------
2025-08-04 22:47:35 - Payment request updated to failed
2025-08-04 22:47:35 - Payment FAILED:
Error Code: 0
Error Message: The service request is processed successfully
CheckoutRequestID: ws_CO_040820252347282712512358
----------------------------------------
2025-08-04 22:55:45 - Callback received:
{
    "Body": {
        "stkCallback": {
            "MerchantRequestID": "d2c6-4205-830c-9d5d446e2e8011643",
            "CheckoutRequestID": "ws_CO_040820252355439700000000",
            "ResultCode": 1037,
            "ResultDesc": "DS timeout user cannot be reached"
        }
    }
}
----------------------------------------
2025-08-04 22:55:45 - Payment request updated to failed
2025-08-04 22:55:45 - Payment FAILED:
Error Code: 1037
Error Message: DS timeout user cannot be reached
CheckoutRequestID: ws_CO_040820252355439700000000
----------------------------------------
2025-08-04 23:02:07 - Callback received:
{
    "Body": {
        "stkCallback": {
            "MerchantRequestID": "b6ee-4b95-90b1-27d193408dd011157",
            "CheckoutRequestID": "ws_CO_050820250001512712512358",
            "ResultCode": 0,
            "ResultDesc": "The service request is processed successfully",
            "CallbackMetadata": {
                "Item": [
                    {
                        "Name": "Amount",
                        "Value": 2
                    },
                    {
                        "Name": "MpesaReceiptNumber",
                        "Value": "TH58XTVCJE"
                    },
                    {
                        "Name": "Balance",
                        "Value": "{Amount={CurrencyCode=KES, MinimumAmount=10591500, BasicAmount=105915.00}}"
                    },
                    {
                        "Name": "TransactionDate",
                        "Value": 20250805000206
                    },
                    {
                        "Name": "PhoneNumber",
                        "Value": 254712512358
                    }
                ]
            }
        }
    }
}
----------------------------------------
2025-08-04 23:02:07 - Payment request updated to failed
2025-08-04 23:02:07 - Payment FAILED:
Error Code: 0
Error Message: The service request is processed successfully
CheckoutRequestID: ws_CO_050820250001512712512358
----------------------------------------
2025-08-04 23:07:01 - Callback received:
{
    "Body": {
        "stkCallback": {
            "MerchantRequestID": "b6ee-4b95-90b1-27d193408dd011257",
            "CheckoutRequestID": "ws_CO_050820250006438712512358",
            "ResultCode": 0,
            "ResultDesc": "The service request is processed successfully",
            "CallbackMetadata": {
                "Item": [
                    {
                        "Name": "Amount",
                        "Value": 2
                    },
                    {
                        "Name": "MpesaReceiptNumber",
                        "Value": "TH59XU44K3"
                    },
                    {
                        "Name": "Balance",
                        "Value": "{Amount={CurrencyCode=KES, MinimumAmount=10591700, BasicAmount=105917.00}}"
                    },
                    {
                        "Name": "TransactionDate",
                        "Value": 20250805000700
                    },
                    {
                        "Name": "PhoneNumber",
                        "Value": 254712512358
                    }
                ]
            }
        }
    }
}
----------------------------------------
2025-08-04 23:07:01 - Payment request updated to failed
2025-08-04 23:07:01 - Payment FAILED:
Error Code: 0
Error Message: The service request is processed successfully
CheckoutRequestID: ws_CO_050820250006438712512358
----------------------------------------
2025-08-04 23:12:15 - Callback received:
{
    "Body": {
        "stkCallback": {
            "MerchantRequestID": "d2c6-4205-830c-9d5d446e2e8011971",
            "CheckoutRequestID": "ws_CO_050820250012025712512358",
            "ResultCode": 0,
            "ResultDesc": "The service request is processed successfully",
            "CallbackMetadata": {
                "Item": [
                    {
                        "Name": "Amount",
                        "Value": 2
                    },
                    {
                        "Name": "MpesaReceiptNumber",
                        "Value": "TH56XUAEX6"
                    },
                    {
                        "Name": "Balance",
                        "Value": "{Amount={CurrencyCode=KES, MinimumAmount=10591900, BasicAmount=105919.00}}"
                    },
                    {
                        "Name": "TransactionDate",
                        "Value": 20250805001214
                    },
                    {
                        "Name": "PhoneNumber",
                        "Value": 254712512358
                    }
                ]
            }
        }
    }
}
----------------------------------------
2025-08-05 12:39:02 - Callback received:
{
    "Body": {
        "stkCallback": {
            "MerchantRequestID": "d2c6-4205-830c-9d5d446e2e8021117",
            "CheckoutRequestID": "ws_CO_050820251338522712512358",
            "ResultCode": 0,
            "ResultDesc": "The service request is processed successfully",
            "CallbackMetadata": {
                "Item": [
                    {
                        "Name": "Amount",
                        "Value": 2
                    },
                    {
                        "Name": "MpesaReceiptNumber",
                        "Value": "TH54ZR76OA"
                    },
                    {
                        "Name": "Balance",
                        "Value": "{Amount={CurrencyCode=KES, MinimumAmount=10688800, BasicAmount=106888.00}}"
                    },
                    {
                        "Name": "TransactionDate",
                        "Value": 20250805133901
                    },
                    {
                        "Name": "PhoneNumber",
                        "Value": 254712512358
                    }
                ]
            }
        }
    }
}
----------------------------------------
2025-08-05 13:25:14 - Callback received:
{
    "Body": {
        "stkCallback": {
            "MerchantRequestID": "d2c6-4205-830c-9d5d446e2e8021704",
            "CheckoutRequestID": "ws_CO_050820251425028712512358",
            "ResultCode": 0,
            "ResultDesc": "The service request is processed successfully",
            "CallbackMetadata": {
                "Item": [
                    {
                        "Name": "Amount",
                        "Value": 2
                    },
                    {
                        "Name": "MpesaReceiptNumber",
                        "Value": "TH54ZZBVEI"
                    },
                    {
                        "Name": "Balance",
                        "Value": "{Amount={CurrencyCode=KES, MinimumAmount=10688400, BasicAmount=106884.00}}"
                    },
                    {
                        "Name": "TransactionDate",
                        "Value": 20250805142513
                    },
                    {
                        "Name": "PhoneNumber",
                        "Value": 254712512358
                    }
                ]
            }
        }
    }
}
----------------------------------------
2025-08-05 13:25:15 - Payment processing error: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'callback_data' in 'field list'
2025-08-05 13:33:35 - Callback received:
{
    "Body": {
        "stkCallback": {
            "MerchantRequestID": "cb81-4fb1-82b1-057f3b6d21d95598",
            "CheckoutRequestID": "ws_CO_050820251433147712512358",
            "ResultCode": 0,
            "ResultDesc": "The service request is processed successfully",
            "CallbackMetadata": {
                "Item": [
                    {
                        "Name": "Amount",
                        "Value": 2
                    },
                    {
                        "Name": "MpesaReceiptNumber",
                        "Value": "TH5010RVZG"
                    },
                    {
                        "Name": "Balance",
                        "Value": "{Amount={CurrencyCode=KES, MinimumAmount=10689100, BasicAmount=106891.00}}"
                    },
                    {
                        "Name": "TransactionDate",
                        "Value": 20250805143334
                    },
                    {
                        "Name": "PhoneNumber",
                        "Value": 254712512358
                    }
                ]
            }
        }
    }
}
----------------------------------------
2025-08-05 13:33:35 - Payment processing error: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'callback_data' in 'field list'
